

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Pomoxis - bioinformatics tools for nanopore research &mdash; Pomoxis 0.2.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pomoxis Examples" href="examples.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> Pomoxis
          

          
          </a>

          
            
            
              <div class="version">
                0.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pomoxis Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="pomoxis.html">pomoxis package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Pomoxis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>Pomoxis - bioinformatics tools for nanopore research</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pomoxis-bioinformatics-tools-for-nanopore-research">
<h1>Pomoxis - bioinformatics tools for nanopore research<a class="headerlink" href="#pomoxis-bioinformatics-tools-for-nanopore-research" title="Permalink to this headline">¶</a></h1>
<p>© 2018 Oxford Nanopore Technologies Ltd.</p>
<p>Pomoxis comprises a set of basic bioinformatic tools tailored to nanopore
sequencing. Notably tools are included for generating and analysing draft
assemblies. Many of these tools are used by the research data analysis
group at Oxford Nanopore Technologies.</p>
<p>See <a class="reference internal" href="examples.html"><span class="doc">Pomoxis Examples</span></a> for common simple tasks.</p>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Wraps third party tools with known good default parameters
and methods of use.</li>
<li>Creates an isolated environment with all third-party tools.</li>
<li>Can be installed with conda.</li>
<li>Streamlines common short analysis chains.</li>
<li>Includes a nanopore read simulator.</li>
<li>Server/client components for minimap2 and bwa.</li>
<li>Integrates into <a class="reference external" href="https://github.com/nanoporetech/katuali">katuali</a>
for performing more complex analysis pipelines.</li>
<li>Open source (Mozilla Public License 2.0).</li>
</ul>
</div></blockquote>
<div class="admonition-research-release admonition">
<p class="first admonition-title">Research Release</p>
<p class="last">Research releases are provided as technology demonstrators to provide early
access to features or stimulate Community development of tools. Support for
this software will be minimal and is only provided directly by the developers.
Feature requests, improvements, and discussions are welcome and can be
implemented by forking and pull requests. However much as we would
like to rectify every issue and piece of feedback users may have, the
developers may have limited resource for support of this software. Research
releases may be unstable and subject to rapid iteration by Oxford Nanopore
Technologies.</p>
</div>
</div>
<div class="section" id="compatibility">
<h2>Compatibility<a class="headerlink" href="#compatibility" title="Permalink to this headline">¶</a></h2>
<p>Pomoxis is developed on Ubuntu 16.04, other recent linuxes should be
equally compatible (see build notes below). Pomoxis is known to work on
at least some MacOS High Sierra configurations, though some components,
notably scrappy, are known to not work on some MacOS configurations
(combinations of OS and xcode versions).</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Much of pomoxis’s functionality is dependent on thirty party tools. These
can be provided by the user, or can be installed with the help of the
provided <cite>Makefile</cite></p>
<p><strong>Installation with conda</strong></p>
<p>Pomoxis can be installed using the <a class="reference external" href="https://conda.io/docs/">conda</a> package
manager. Many users will prefer this method. If <cite>make</cite> is installed on the
system, the following will create a conda environment and install pomoxis
and its third party dependencies into the environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/nanoporetech/pomoxis
<span class="nb">cd</span> pomoxis
<span class="nv">CONDA</span><span class="o">=</span>&lt;path to conda install&gt; make conda
</pre></div>
</div>
<p>On the final line, use for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">CONDA</span><span class="o">=</span>~/miniconda3/ make conda
</pre></div>
</div>
<p>A conda package is planned in the future.</p>
<p><strong>Installation with pip</strong></p>
<p>Pomoxis can be installed using the python package manager, pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install git+https://github.com/rrwick/Porechop
pip install pomoxis
</pre></div>
</div>
<p>We recommend using medaka within a virtual environment, viz.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>virtualenv pomoxis --python<span class="o">=</span>python3 --prompt <span class="s2">&quot;(pomoxis) &quot;</span>
. pomoxis/bin/activate
pip install git+https://github.com/rrwick/Porechop
pip install pomoxis
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Using this method requires the user to provide several binaries:</p>
<p><a class="reference external" href="https://github.com/lh3/minimap2">minimap2</a>,
<a class="reference external" href="https://github.com/lh3/miniasm">miniasm</a>,
<a class="reference external" href="https://github.com/samtools/samtools">samtools</a>,
<a class="reference external" href="https://github.com/isovic/racon">racon</a>,
<a href="#id1"><span class="problematic" id="id2">`samtools &lt;https://github.com/samtools/samtools`_</span></a>,
<a href="#id3"><span class="problematic" id="id4">`bcftools &lt;https://github.com/samtools/bcftools/`_</span></a>, and
<a href="#id5"><span class="problematic" id="id6">`seqkit &lt;https://github.com/shenwei356/seqkit`_</span></a>,</p>
<p class="last">and place these within the <cite>PATH</cite>.</p>
</div>
<p><strong>Installation from source</strong></p>
<p>With this method pomoxis will install itself into a an isolated virtual
environment. The installation will fetch, compile, and install all direct
dependencies into the environment. Use this method if you do not wish to
use conda, but will not be providing the third-party binaries.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Before installing pomoxis is may be required to install some prerequisite
packages, best installed by a package manager. On Ubuntu these are:</p>
<p class="last">gcc-4.9 g++-4.9 zlib1g-dev libncurses5-dev python3-all-dev libhdf5-dev
libatlas-base-dev libopenblas-base libopenblas-dev libbz2-dev liblzma-dev
libffi-dev make python-virtualenv cmake wget bzip2</p>
</div>
<p>To setup the environment run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/nanoporetech/pomoxis
<span class="nb">cd</span> pomoxis
make install
. ./venv/bin/activate
</pre></div>
</div>
<p>The installation of porechop (<a class="reference external" href="https://github.com/rrwick/Porechop">https://github.com/rrwick/Porechop</a>)
requires a newer compiler than is a available on some systems. It may therefore
be necessary to install a newer compiler and set environment variables before
the <cite>make install</cite> step:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># For porechop to be compiled on older systems set these, e.g.:</span>
<span class="nb">export</span> <span class="nv">CXX</span><span class="o">=</span><span class="s2">&quot;g++-4.9&quot;</span> <span class="nv">CC</span><span class="o">=</span><span class="s2">&quot;gcc-4.9&quot;</span>
</pre></div>
</div>
<p>Note also that racon requires at least <cite>gcc&gt;=4.8.5</cite> to
[compile smoothly](<a class="reference external" href="https://github.com/isovic/racon/issues/57">https://github.com/isovic/racon/issues/57</a>).</p>
<p><strong>Installation without compiling third-party binaries</strong></p>
<p>Running the above within a pre-exisiting (virtual) environnment may well fail;
advanced may wish to simply run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py install
</pre></div>
</div>
<p>in the standard manner after compiling the third party programs listed below
and ensuring they are present on the <cite>PATH</cite>. The <cite>setup.py</cite> script can copy
the binaries into the python interpreter path if they are placed within a
directory named <cite>bincache</cite> alongside <cite>setup.py</cite>. To make use of this facility
run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
<span class="nv">POMO_BINARIES</span><span class="o">=</span><span class="m">1</span> python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="third-party-binaries">
<h2>Third party binaries<a class="headerlink" href="#third-party-binaries" title="Permalink to this headline">¶</a></h2>
<p>The distribution bundles some common bioinformatics tools:</p>
<blockquote>
<div><ul class="simple">
<li>miniasm</li>
<li>minimap2</li>
<li>racon</li>
<li>samtools</li>
<li>bcftools</li>
<li>seqkit</li>
<li>porechop</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pomoxis Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#read-alignment-with-minimap2">Read Alignment with minimap2</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#fast-de-novo-assembly">Fast de-novo assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#consensus-assessment">Consensus assessment</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#simulating-nanopore-reads">Simulating nanopore reads</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#subsampling-alignments">Subsampling alignments</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="full-api-reference">
<h2>Full API reference<a class="headerlink" href="#full-api-reference" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pomoxis.html">pomoxis package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pomoxis.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pomoxis.align.html">pomoxis.align package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pomoxis.common.html">pomoxis.common package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pomoxis.provider.html">pomoxis.provider package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pomoxis.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pomoxis.html#module-pomoxis.watcher">pomoxis.watcher module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pomoxis.html#module-pomoxis">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Pomoxis Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Oxford Nanopore Technologies

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>